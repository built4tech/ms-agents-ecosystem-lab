# ============================================================================
# Variables de entorno - MS Agents Ecosystem Lab
# ============================================================================
# Copia este archivo a .env y completa los valores después de ejecutar:
#   cd infra/scripts && .\deploy-all.ps1 && .\show-endpoints.ps1
# ============================================================================

# ----------------------------------------------------------------------------
# Configuración común de Azure
# ----------------------------------------------------------------------------
AZURE_SUBSCRIPTION_ID=<tu-subscription-id>
AZURE_RESOURCE_GROUP=rg-agents-lab
AZURE_LOCATION=eastus2

# ----------------------------------------------------------------------------
# Servicio de chat (MAF)
# Usa endpoint Azure AI Services - Los agentes aparecen en Foundry Portal
# ----------------------------------------------------------------------------
ENDPOINT_API=https://foundry-maf-lab.services.ai.azure.com
ENDPOINT_OPENAI=https://foundry-maf-lab.openai.azure.com
PROJECT_NAME=foundry-maf-lab-project
DEPLOYMENT_NAME=gpt-4o-mini
API_VERSION=2024-10-21
# API_KEY=El proyecto utiliza autenticación basada en identidad administrada, por lo que no se requiere una API key tradicional. Deja este campo vacío o con un valor ficticio.

# ----------------------------------------------------------------------------
# Microsoft 365 Agents SDK / Agent 365
# Este bloque prepara la integración con canal M365/Copilot.
# ----------------------------------------------------------------------------

# Host donde corre el servicio HTTP del agente para pruebas con Bot/Playground.
AGENT_HOST=localhost
# Puerto del endpoint /api/messages para canal M365.
PORT=3978

# App registration (Entra ID) que representa tu bot/agent endpoint.
# Cómo obtenerlo:
# 1) Entra admin center -> App registrations -> tu aplicación
# 2) Copiar "Application (client) ID"
# CLI alternativa: az ad app list --display-name <nombre-app>
MICROSOFT_APP_ID=00000000-0000-0000-0000-000000000000

# Secreto cliente de la app registration (NO commitear valor real).
# Cómo obtenerlo:
# 1) Entra admin center -> App registrations -> Certificates & secrets
# 2) Crear "New client secret" y copiar el Value
MICROSOFT_APP_PASSWORD=<reemplazar-por-client-secret-real>

# Tipo de aplicación para autenticación del SDK.
# Valor habitual para escenarios enterprise: MultiTenant.
MICROSOFT_APP_TYPE=MultiTenant

# Tenant ID (Directory ID) de Entra.
# Cómo obtenerlo:
# 1) Entra admin center -> Overview -> Tenant ID
# CLI alternativa: az account show --query tenantId -o tsv
MICROSOFT_APP_TENANTID=11111111-1111-1111-1111-111111111111

# ----------------------------------------------------------------------------
# Observabilidad (OpenTelemetry + Application Insights)
# ----------------------------------------------------------------------------

# Connection string del recurso Application Insights.
# Cómo obtenerlo:
# Azure Portal -> Application Insights -> Overview -> Connection String
APPLICATIONINSIGHTS_CONNECTION_STRING=InstrumentationKey=00000000-0000-0000-0000-000000000000;IngestionEndpoint=https://westeurope-0.in.applicationinsights.azure.com/

# Habilita/deshabilita observabilidad general (traces/logs/metrics).
# Recomendado en desarrollo: true
ENABLE_OBSERVABILITY=true

# Exportador específico de Agent 365 (Frontier). En false usa rutas estándar/locales.
# Si tu tenant y flujo Agent 365 están operativos, cambia a true en fases posteriores.
# Detalle de este parametro:
# ENABLE_A365_OBSERVABILITY_EXPORTER=false
#
#   No usa el exportador específico de Agent 365.
#   La telemetría se queda en rutas estándar (por ejemplo Azure Monitor/Application Insights si lo configuras) o local.
#   Es el modo más seguro para empezar.
#
# ENABLE_A365_OBSERVABILITY_EXPORTER=true
#
#   Activa el exportador de Agent 365 (Frontier).
#   Requiere que tu flujo Agent 365 esté realmente configurado (tenant Frontier, auth/token resolver, wiring del SDK de observabilidad).
#   Si falta esa configuración, puedes ver errores de autenticación/exportación o spans que no llegan.

ENABLE_A365_OBSERVABILITY_EXPORTER=false

# Nombre lógico del servicio en telemetría (service.name en OTel).
OTEL_SERVICE_NAME=maf-simple-chat

# Namespace lógico del servicio para separar dominios en observabilidad.
OTEL_SERVICE_NAMESPACE=ms-agents-ecosystem-lab

